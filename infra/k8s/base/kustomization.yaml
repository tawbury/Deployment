# Observer 앱 전용 base (Port 8000, /health)
# 이미지 태그는 overlays에서 YYYYMMDD-HHMMSS 형식으로 지정
apiVersion: kustomize.config.k8s.io/v1beta1
kind: Kustomization

resources:
  #- namespaces/observer.yaml
  - deployments/postgres.yaml
  - deployments/observer.yaml
  - services/postgres-svc.yaml
  - services/observer-svc.yaml
  - configmaps/observer-config.yaml
  # observer-secrets: kubectl create secret 로 생성 (secrets/observer-secrets.yaml 가이드 참고)
  - pvc/observer-db-pvc.yaml
  - pvc/observer-logs-pvc.yaml
  # - ingress/observer-ingress.yaml  # 외부 노출 시 주석 해제

commonLabels:
  app.kubernetes.io/name: observer
  app.kubernetes.io/managed-by: kustomize
  app.kubernetes.io/part-of: tawbury-deployment

commonAnnotations:
  k8s.tawbury/version: "2.0.0"
